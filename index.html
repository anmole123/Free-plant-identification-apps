<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ğŸŒ¿ Plant Identifier Tool ğŸª´</title>
<style>
  /* Reset & base */
  * {
    box-sizing: border-box;
  }
  body {
    margin:0; 
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #eaf2f8;
    color: #222;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  a {
    color: #0a71c5;
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
  header, footer {
    background: #1b4f72;
    color: #fff;
    padding: 1rem 2rem;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }
  /* Header flex with logo left, nav right, language selector right next */
  .logo {
    font-size: 1.5rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.3rem;
    white-space: nowrap;
  }
  .header-spacer {
    flex-grow: 1;
  }
  nav {
    display: flex;
    gap: 1.5rem;
  }
  nav a {
    color: white;
    font-weight: 600;
    font-size: 1rem;
  }
  nav a:hover,
  nav a:focus {
    text-decoration: underline;
  }
  #language-select {
    margin-left: 1.5rem;
    max-width: 160px;
    background: white;
    border-radius: 8px;
    border: none;
    padding: 0.3rem 0.5rem;
    font-size: 1rem;
    font-weight: 600;
    color: #1b4f72;
    cursor: pointer;
    outline-offset: 2px;
  }
  /* Footer */
  footer {
    font-size: 0.9rem;
    justify-content: center;
    background: #1b4f72;
    color: white;
  }
  main {
    flex-grow: 1;
    padding: 1.5rem 2rem;
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
  }
  h1, h2, h3 {
    margin-bottom: 0.5rem;
    font-weight: 700;
    color: #0b3c5d;
  }
  h1 {
    font-size: 2.4rem;
  }
  .emoji {
    margin-right: 0.4rem;
  }
  /* Upload & photo area */
  .upload-section {
    background: white;
    padding: 1rem 1.5rem;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgb(0 0 0 / 0.1);
    margin-bottom: 2rem;
  }
  /* New container for upload and photo inputs horizontally combined */
  .upload-photo-container {
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
  }
  .upload-photo-block {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    flex: 1 1 200px;
    min-width: 180px;
  }
  label {
    font-weight: 600;
    font-size: 1.1rem;
  }
  input[type=file] {
    padding: 0.5rem;
    font-size: 1rem;
    border: 2px solid #96c0db;
    border-radius: 8px;
    outline-offset: 2px;
    transition: border-color 0.3s ease;
    cursor: pointer;
  }
  input[type=file]:focus {
    border-color: #0a71c5;
  }
  button {
    background: #0a71c5;
    color: white;
    border: none;
    cursor: pointer;
    margin-top: 0.7rem;
    font-weight: bold;
    border-radius: 10px;
    padding: 0.5rem 0.9rem;
    font-size: 1rem;
  }
  button:hover {
    background: #084a8a;
  }
  .buttons-inline {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    flex-wrap: wrap;
  }
  /* Table */
  .result-section {
    overflow-x: auto;
    background: white;
    padding: 1rem 1rem 1rem 1rem;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgb(0 0 0 / 0.1);
    margin-bottom: 2rem;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 1rem;
  }
  thead tr {
    background: #0a71c5;
    color: white;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  th, td {
    border: 1px solid #d1e7ff;
    padding: 0.7rem 1rem;
    text-align: left;
    vertical-align: top;
  }
  tbody tr:nth-child(even) {
    background: #f1f9ff;
  }
  /* Testimonials */
  .testimonials {
    margin-bottom: 2rem;
  }
  .testimonials h2 {
    text-align: center;
    margin-bottom: 1.5rem;
  }
  .testimonial-cards {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center;
  }
  .testimonial-card {
    background: white;
    border-radius: 14px;
    box-shadow: 0 4px 20px rgb(0 0 0 / 0.12);
    padding: 1.25rem 1.5rem;
    max-width: 350px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  .testimonial-emoji {
    font-size: 2.2rem;
  }
  .testimonial-text {
    font-style: italic;
    color: #444;
    flex-grow: 1;
  }
  .testimonial-author {
    font-weight: 700;
    color: #0a71c5;
    align-self: flex-end;
  }
  /* FAQ */
  .faq-section {
    background: white;
    border-radius: 12px;
    padding: 1.5rem 2rem;
    box-shadow: 0 4px 15px rgb(0 0 0 / 0.1);
    margin-bottom: 3rem;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
  }
  .faq-section h2 {
    text-align: center;
    margin-bottom: 1.5rem;
  }
  .faq-card {
    border-bottom: 1px solid #d1e7ff;
    padding: 1rem 0;
    cursor: pointer;
  }
  .faq-question {
    font-weight: 700;
    color: #0a71c5;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
    color: #333;
    margin-top: 0.3rem;
  }
  .faq-card.open .faq-answer {
    max-height: 200px;
  }
  .faq-toggle-icon {
    font-size: 1.5rem;
    user-select: none;
  }
  /* Responsive */
  @media (max-width: 768px) {
    .testimonial-cards {
      flex-direction: column;
      align-items: center;
    }
    .upload-photo-container {
      flex-direction: column;
    }
  }
  /* Ad container placeholders */
  .ad-slot {
    margin: 1.5rem 0;
    display: flex;
    justify-content: center;
  }
</style>
</head>
<body>
<header>
  <div class="logo" aria-label="Plant Identifier logo">
    ğŸŒ± <span>Plant Identifier</span>
  </div>
  <div class="header-spacer" aria-hidden="true"></div>
  <nav aria-label="Primary navigation">
    <a href="#" aria-current="page">ğŸ  Home</a>
    <a href="#identifier">ğŸŒ¿ Plant Identifier</a>
    <a href="#privacy">ğŸ”’ Privacy</a>
  </nav>
  <select id="language-select" aria-label="Select Language">
    <option value="en" selected>English ğŸ‡¬ğŸ‡§</option>
    <option value="ur">Ø§Ø±Ø¯Ùˆ ğŸ‡µğŸ‡°</option>
    <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€ ğŸ‡®ğŸ‡³</option>
    <option value="sd">Ø³Ù†ÚŒÙŠ ğŸ‡µğŸ‡°</option>
  </select>
</header>

<!-- Google Ad Top -->
<div class="ad-slot" id="ad-top" aria-label="Advertisement top banner">
  <script type="text/javascript">
	atOptions = {
		'key' : '9e444108ce409887f1051df7ffb512e8',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
  </script>
  <script type="text/javascript" src="//www.highperformanceformat.com/9e444108ce409887f1051df7ffb512e8/invoke.js"></script>
</div>

<main>
  <section id="identifier" class="upload-section" aria-label="Plant Identifier tool">
    <h1>ğŸŒ¿ Plant Identifier</h1>
    <p>Take a photo or upload an image of a plant to identify it with disease info and solution.</p>
    <div class="upload-photo-container">
      <div class="upload-photo-block">
        <label for="image-upload" id="label-upload">ğŸ“¤ Upload Image</label>
        <input type="file" accept="image/*" id="image-upload" aria-describedby="upload-desc" />
        <p id="upload-desc" style="font-size: 0.85rem; color:#666; margin-top: 0;">Supported formats: JPG, PNG.</p>
      </div>
      <div class="upload-photo-block">
        <label for="camera-input" id="label-camera">ğŸ“· Take Photo</label>
        <input type="file" accept="image/*" capture="environment" id="camera-input" />
      </div>
    </div>
    <div class="buttons-inline">
      <button id="btn-identify" disabled>ğŸ” Identify Plant</button>
      <button id="btn-download" disabled>â¬‡ï¸ Download Results</button>
      <button id="btn-copy" disabled>ğŸ“‹ Copy Results</button>
    </div>
  </section>

  <!-- Google Ad Middle -->
  <div class="ad-slot" id="ad-middle" aria-label="Advertisement middle banner">
    <script type="text/javascript">
	  atOptions = {
		  'key' : '9e444108ce409887f1051df7ffb512e8',
		  'format' : 'iframe',
		  'height' : 90,
		  'width' : 728,
		  'params' : {}
	  };
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/9e444108ce409887f1051df7ffb512e8/invoke.js"></script>
  </div>

  <section class="result-section" aria-label="Plant identification results">
    <h2>ğŸ” Results</h2>
    <div style="overflow-x:auto;">
      <table id="result-table" role="table" aria-live="polite" aria-relevant="all" aria-describedby="results-desc">
        <thead>
          <tr>
            <th>ğŸŒ± Plant Name</th>
            <th>ğŸ§¬ Classification</th>
            <th>ğŸ¦  Disease</th>
            <th>ğŸ› ï¸ Solution</th>
          </tr>
        </thead>
        <tbody>
          <tr><td colspan="4" style="text-align:center; color:#666;">No results yet. Please upload or take a photo to identify a plant.</td></tr>
        </tbody>
      </table>
      <p id="results-desc" class="sr-only">Table showing identified plant details, disease, and solution.</p>
    </div>
  </section>

  <section class="testimonials" aria-label="User testimonials">
    <h2>ğŸ’¬ What Our Users Say</h2>
    <div class="testimonial-cards">
      <article class="testimonial-card" tabindex="0">
        <div class="testimonial-emoji" aria-hidden="true">ğŸŒŸ</div>
        <p class="testimonial-text">Amazing tool! Identified my plant quickly and gave detailed care instructions. Highly recommend! ğŸŒ¼ğŸŒ</p>
        <div class="testimonial-author">- Sarah K.</div>
      </article>
      <article class="testimonial-card" tabindex="0">
        <div class="testimonial-emoji" aria-hidden="true">ğŸƒ</div>
        <p class="testimonial-text">Very helpful! The disease detection and solutions saved my garden from pests. ğŸ‘ğŸŒ¿</p>
        <div class="testimonial-author">- Rajesh M.</div>
      </article>
      <article class="testimonial-card" tabindex="0">
        <div class="testimonial-emoji" aria-hidden="true">ğŸŒ»</div>
        <p class="testimonial-text">Loved the language support and how easy the interface is. Perfect for beginners and experts alike! ğŸ‘©â€ğŸŒ¾ğŸ‘¨â€ğŸŒ¾</p>
        <div class="testimonial-author">- Ayesha S.</div>
      </article>
    </div>
  </section>

  <section class="faq-section" aria-label="Frequently Asked Questions">
    <h2>â“ FAQs</h2>

    <div class="faq-card" tabindex="0">
      <div class="faq-question" role="button" aria-expanded="false" aria-controls="faq1-answer" id="faq1-question">
        How accurate is the plant identification? <span class="faq-toggle-icon">+</span>
      </div>
      <div class="faq-answer" id="faq1-answer" aria-labelledby="faq1-question" role="region">
        Our algorithm provides a high accuracy rate but identification depends on image quality and plant variety.
      </div>
    </div>

    <div class="faq-card" tabindex="0">
      <div class="faq-question" role="button" aria-expanded="false" aria-controls="faq2-answer" id="faq2-question">
        Which diseases can the tool identify? <span class="faq-toggle-icon">+</span>
      </div>
      <div class="faq-answer" id="faq2-answer" aria-labelledby="faq2-question" role="region">
        It detects common fungal, bacterial, and pest-related diseases specific to a wide variety of plants.
      </div>
    </div>

    <div class="faq-card" tabindex="0">
      <div class="faq-question" role="button" aria-expanded="false" aria-controls="faq3-answer" id="faq3-question">
        Can I use the tool offline? <span class="faq-toggle-icon">+</span>
      </div>
      <div class="faq-answer" id="faq3-answer" aria-labelledby="faq3-question" role="region">
        Currently, the tool requires an internet connection to process images and deliver results.
      </div>
    </div>

    <div class="faq-card" tabindex="0">
      <div class="faq-question" role="button" aria-expanded="false" aria-controls="faq4-answer" id="faq4-question">
        How can I protect my plants after identifying a disease? <span class="faq-toggle-icon">+</span>
      </div>
      <div class="faq-answer" id="faq4-answer" aria-labelledby="faq4-question" role="region">
        Follow the recommended solutions in the results table or consult a specialist for severe cases.
      </div>
    </div>

    <div class="faq-card" tabindex="0">
      <div class="faq-question" role="button" aria-expanded="false" aria-controls="faq5-answer" id="faq5-question">
        Is my uploaded image data kept private? <span class="faq-toggle-icon">+</span>
      </div>
      <div class="faq-answer" id="faq5-answer" aria-labelledby="faq5-question" role="region">
        Yes, your images and data are processed locally and not stored or shared.
      </div>
    </div>
  </section>

  <!-- Google Ad Bottom -->
  <div class="ad-slot" id="ad-bottom" aria-label="Advertisement bottom banner">
    <script type="text/javascript">
	atOptions = {
		'key' : '9e444108ce409887f1051df7ffb512e8',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/9e444108ce409887f1051df7ffb512e8/invoke.js"></script>
  </div>
</main>

<!-- Google Ad Last -->
<div class="ad-slot" id="ad-last" aria-label="Advertisement last banner" style="margin-bottom: 50px;">
  <script type="text/javascript">
	atOptions = {
		'key' : '9e444108ce409887f1051df7ffb512e8',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
  </script>
  <script type="text/javascript" src="//www.highperformanceformat.com/9e444108ce409887f1051df7ffb512e8/invoke.js"></script>
</div>

<footer id="privacy" aria-label="Footer with Privacy">
  <p>Â© 2024 Plant Identifier Tool | <a href="#privacy">Privacy Policy</a></p>
</footer>

<script>
  (() => {
    // Localized text for UI elements
    const translations = {
      en: {
        uploadLabel: 'ğŸ“¤ Upload Image',
        cameraLabel: 'ğŸ“· Take Photo',
        identifyBtn: 'ğŸ” Identify Plant',
        downloadBtn: 'â¬‡ï¸ Download Results',
        copyBtn: 'ğŸ“‹ Copy Results',
        noResults: 'No results yet. Please upload or take a photo to identify a plant.',
        resultsTitle: 'ğŸ” Results',
        plantName: 'ğŸŒ± Plant Name',
        classification: 'ğŸ§¬ Classification',
        disease: 'ğŸ¦  Disease',
        solution: 'ğŸ› ï¸ Solution',
      },
      ur: {
        uploadLabel: 'ØªØµÙˆÛŒØ± Ø§Ù¾ Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº ğŸ“¤',
        cameraLabel: 'ØªØµÙˆÛŒØ± Ù„ÛŒÚº ğŸ“·',
        identifyBtn: 'Ù¾ÙˆØ¯Ø§ Ø´Ù†Ø§Ø®Øª Ú©Ø±ÛŒÚº ğŸ”',
        downloadBtn: 'Ù†ØªØ§Ø¦Ø¬ ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº â¬‡ï¸',
        copyBtn: 'Ù†ØªØ§Ø¦Ø¬ Ú©Ø§Ù¾ÛŒ Ú©Ø±ÛŒÚº ğŸ“‹',
        noResults: 'Ú©ÙˆØ¦ÛŒ Ù†ØªØ§Ø¦Ø¬ Ù†ÛÛŒÚºÛ” Ø¨Ø±Ø§Û Ú©Ø±Ù… ØªØµÙˆÛŒØ± Ø§Ù¾ Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº ÛŒØ§ ØªØµÙˆÛŒØ± Ù„ÛŒÚºÛ”',
        resultsTitle: 'ğŸ” Ù†ØªØ§Ø¦Ø¬',
        plantName: 'ğŸŒ± Ù¾ÙˆØ¯Û’ Ú©Ø§ Ù†Ø§Ù…',
        classification: 'ğŸ§¬ Ø¯Ø±Ø¬Û Ø¨Ù†Ø¯ÛŒ',
        disease: 'ğŸ¦  Ø¨ÛŒÙ…Ø§Ø±ÛŒ',
        solution: 'ğŸ› ï¸ Ø­Ù„',
      },
      hi: {
        uploadLabel: 'à¤›à¤µà¤¿ à¤…à¤ªà¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚ ğŸ“¤',
        cameraLabel: 'à¤«à¥‹à¤Ÿà¥‹ à¤²à¥‡à¤‚ ğŸ“·',
        identifyBtn: 'à¤ªà¥Œà¤§à¤¾ à¤ªà¤¹à¤šà¤¾à¤¨à¥‡à¤‚ ğŸ”',
        downloadBtn: 'à¤ªà¤°à¤¿à¤£à¤¾à¤® à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚ â¬‡ï¸',
        copyBtn: 'à¤ªà¤°à¤¿à¤£à¤¾à¤® à¤•à¥‰à¤ªà¥€ à¤•à¤°à¥‡à¤‚ ğŸ“‹',
        noResults: 'à¤•à¥‹à¤ˆ à¤ªà¤°à¤¿à¤£à¤¾à¤® à¤¨à¤¹à¥€à¤‚à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤›à¤µà¤¿ à¤…à¤ªà¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚ à¤¯à¤¾ à¤«à¥‹à¤Ÿà¥‹ à¤²à¥‡à¤‚à¥¤',
        resultsTitle: 'ğŸ” à¤ªà¤°à¤¿à¤£à¤¾à¤®',
        plantName: 'ğŸŒ± à¤ªà¥Œà¤§à¥‡ à¤•à¤¾ à¤¨à¤¾à¤®',
        classification: 'ğŸ§¬ à¤µà¤°à¥à¤—à¥€à¤•à¤°à¤£',
        disease: 'ğŸ¦  à¤¬à¥€à¤®à¤¾à¤°à¥€',
        solution: 'ğŸ› ï¸ à¤¸à¤®à¤¾à¤§à¤¾à¤¨',
      },
      sd: {
        uploadLabel: 'ØªØµÙˆÙŠØ± Ø§Ù¾Ù„ÙˆÚŠ ÚªØ±ÙŠÙˆ ğŸ“¤',
        cameraLabel: 'ØªØµÙˆÙŠØ± ÙˆÙºÙˆ ğŸ“·',
        identifyBtn: 'Ù»ÙˆÙ½Ùˆ Ø³ÚƒØ§Ú»Ù¾ ÚªØ±ÙŠÙˆ ğŸ”',
        downloadBtn: 'Ù†ØªÙŠØ¬Ø§ ÚŠØ§Ø¦ÙˆÙ†Ù„ÙˆÚŠ ÚªØ±ÙŠÙˆ â¬‡ï¸',
        copyBtn: 'Ù†ØªÙŠØ¬Ø§ ÚªØ§Ù¾ÙŠ ÚªØ±ÙŠÙˆ ğŸ“‹',
        noResults: 'ÚªÙˆØ¨Ù‡ Ù†ØªÙŠØ¬Ø§ Ù†Ø§Ú¾ÙŠ. Ù…Ù‡Ø±Ø¨Ø§Ù†ÙŠ ÚªØ±ÙŠ ØªØµÙˆÙŠØ± Ø§Ù¾Ù„ÙˆÚŠ ÙŠØ§ ÙˆÙºÙˆ.',
        resultsTitle: 'ğŸ” Ù†ØªÙŠØ¬Ø§',
        plantName: 'ğŸŒ± Ù»ÙˆÙ½ÙŠ Ø¬Ùˆ Ù†Ø§Ù„Ùˆ',
        classification: 'ğŸ§¬ Ø¯Ø±Ø¬Ø§ Ø¨Ù†Ø¯ÙŠ',
        disease: 'ğŸ¦  Ø¨ÙŠÙ…Ø§Ø±ÙŠ',
        solution: 'ğŸ› ï¸ Ø­Ù„',
      }
    };

    // Plant data with translations
    const plantData = [
      {
        name: {
          en: "Ficus lyrata (Fiddle Leaf Fig)",
          ur: "ÙÙÚ©Ø³ Ù„Ø§Ø¦Ø±ÛŒÙ¹Ø§ (ÙÙÚˆÙ„ Ù„ÛŒÙ ÙÙÚ¯)",
          hi: "à¤«à¤¿à¤•à¥à¤¸ à¤²à¤¾à¤‡à¤°à¤¾à¤Ÿà¤¾ (à¤«à¤¼à¤¿à¤¡à¤² à¤²à¥€à¤«à¤¼ à¤«à¤¿à¤—)",
          sd: "ÙÙŠÚªØ³ Ù„ÙŠØ±Ù½ÙŠÙ½Ø§ (ÙÚŠÙ„ Ù„ÙŠÙ¾ ÙÙÚ¯)"
        },
        classification: {
          en: "Kingdom: Plantae > Family: Moraceae > Genus: Ficus > Species: lyrata",
          ur: "Ø¨Ø§Ø¯Ø´Ø§ÛØª: Ù¾ÙˆØ¯Û’ > Ø®Ø§Ù†Ø¯Ø§Ù†: Ù…ÙˆØ±Ø§Ø³ÛŒØ³ÛŒ > Ø¬Ù†Ø³: ÙÙÚ©Ø³ > Ù†ÙˆØ¹: Ù„Ø§Ø¦Ø±ÛŒÙ¹Ø§",
          hi: "à¤°à¤¾à¤œà¥à¤¯: à¤ªà¥à¤²à¤¾à¤‚à¤Ÿà¥‡ > à¤ªà¤°à¤¿à¤µà¤¾à¤°: à¤®à¥‹à¤°à¤¾à¤¸à¥€à¤¸à¥€ > à¤µà¤‚à¤¶: à¤«à¤¿à¤•à¥à¤¸ > à¤ªà¥à¤°à¤œà¤¾à¤¤à¤¿: à¤²à¤¾à¤‡à¤°à¤¾à¤Ÿà¤¾",
          sd: "Ø¨Ø§Ø¯Ø´Ø§Ù‡Øª: Ù»ÙˆÙ½Ø§ > Ø®Ø§Ù†Ø¯Ø§Ù†: Ù…ÙˆØ±Ø§Ø³ÙŠ > Ø¬Ù†Ø³: ÙÙŠÚªØ³ > Ù‚Ø³Ù…: Ù„ÙŠØ±Ù½ÙŠÙ½Ø§"
        },
        disease: {
          en: "Root Rot",
          ur: "Ø¬Ú‘ÙˆÚº Ú©ÛŒ Ø³Ú‘Ù†",
          hi: "à¤œà¤¡à¤¼ à¤¸à¤¡à¤¼à¤¨à¤¾",
          sd: "Ø¬Ú™ÙˆÙ† Ú©ÙŠ Ø³Ú™Ú»"
        },
        solution: {
          en: "Reduce watering and improve soil drainage to avoid excess moisture.",
          ur: "Ù¾Ø§Ù†ÛŒ Ø¯ÛŒÙ†Û’ Ú©Ùˆ Ú©Ù… Ú©Ø±ÛŒÚº Ø§ÙˆØ± Ù…Ù¹ÛŒ Ú©ÛŒ Ù†Ú©Ø§Ø³ÛŒ Ú©Ùˆ Ø¨ÛØªØ± Ø¨Ù†Ø§Ø¦ÛŒÚº ØªØ§Ú©Û Ø²ÛŒØ§Ø¯Û Ù†Ù…ÛŒ Ø³Û’ Ø¨Ú†Ø§ Ø¬Ø§ Ø³Ú©Û’Û”",
          hi: "à¤ªà¤¾à¤¨à¥€ à¤•à¤® à¤•à¤°à¥‡à¤‚ à¤”à¤° à¤…à¤¤à¥à¤¯à¤§à¤¿à¤• à¤¨à¤®à¥€ à¤¸à¥‡ à¤¬à¤šà¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¥€ à¤¨à¤¿à¤•à¤¾à¤¸à¥€ à¤¸à¥à¤§à¤¾à¤°à¥‡à¤‚à¥¤",
          sd: "Ù¾Ø§Ú»ÙŠ ÚÙŠÚ» Ú¯Ù‡Ù½Ø§ÙŠÙˆ Û½ Ù…Ù½ÙŠ Ø¬ÙŠ Ù†ÙŠÚªØ§Ø³ÙŠ Ø¨Ù‡ØªØ± ÚªØ±ÙŠÙˆ ØªÙ‡ Ø¬ÙŠØ¦Ù† Ø²ÙŠØ§Ø¯Ù‡ Ù†Ù…ÙŠ Ú©Ø§Ù† Ø¨Ú†ÙŠ Ø³Ú¯Ù‡Ø¬ÙŠ."
        }
      },
      {
        name: {
          en: "Monstera deliciosa",
          ur: "Ù…ÙˆÙ†Ø³Ù¹ÛŒØ±Ø§ ÚˆÛŒÙ„ÛŒØ´ÛŒÙˆØ³Ø§",
          hi: "à¤®à¥‰à¤¨à¥à¤¸à¥à¤Ÿà¥‡à¤°à¤¾ à¤¡à¥‡à¤²à¤¿à¤¸à¤¿à¤¯à¥‹à¤¸à¤¾",
          sd: "Ù…ÙˆÙ†Ø³Ù½ÙŠØ±Ø§ ÚŠÙŠÙ„Ø´ÙŠÙˆØ³Ø§"
        },
        classification: {
          en: "Kingdom: Plantae > Family: Araceae > Genus: Monstera > Species: deliciosa",
          ur: "Ø¨Ø§Ø¯Ø´Ø§ÛØª: Ù¾ÙˆØ¯Û’ > Ø®Ø§Ù†Ø¯Ø§Ù†: Ø¢Ø±ÛŒØ³ÛŒ > Ø¬Ù†Ø³: Ù…ÙˆÙ†Ø³Ù¹ÛŒØ±Ø§ > Ù†ÙˆØ¹: ÚˆÛŒÙ„ÛŒØ´ÛŒÙˆØ³Ø§",
          hi: "à¤°à¤¾à¤œà¥à¤¯: à¤ªà¥à¤²à¤¾à¤‚à¤Ÿà¥‡ > à¤ªà¤°à¤¿à¤µà¤¾à¤°: à¤…à¤°à¥ˆà¤¸à¥€ > à¤µà¤‚à¤¶: à¤®à¥‰à¤¨à¥à¤¸à¥à¤Ÿà¥‡à¤°à¤¾ > à¤ªà¥à¤°à¤œà¤¾à¤¤à¤¿: à¤¡à¥‡à¤²à¤¿à¤¸à¤¿à¤¯à¥‹à¤¸à¤¾",
          sd: "Ø¨Ø§Ø¯Ø´Ø§Ù‡Øª: Ù»ÙˆÙ½Ø§ > Ø®Ø§Ù†Ø¯Ø§Ù†: Ø¢Ø±ÙŠØ³ÙŠ > Ø¬Ù†Ø³: Ù…ÙˆÙ†Ø³Ù½ÙŠØ±Ø§ > Ù‚Ø³Ù…: ÚŠÙŠÙ„Ø´ÙŠÙˆØ³Ø§"
        },
        disease: {
          en: "Leaf Spot",
          ur: "Ù¾ØªÛ’ Ù¾Ø± Ø¯Ú¾Ø¨Û’",
          hi: "à¤ªà¤¤à¥à¤¤à¥€ à¤ªà¤° à¤§à¤¬à¥à¤¬à¤¾",
          sd: "Ù¾Ù†Ù† Ø¬Ø§ Ø¯Ø§Øº"
        },
        solution: {
          en: "Remove affected leaves and apply fungicide as needed.",
          ur: "Ù…ØªØ§Ø«Ø±Û Ù¾ØªÛ’ ÛÙ¹Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ø¶Ø±ÙˆØ±Øª Ú©Û’ Ù…Ø·Ø§Ø¨Ù‚ ÙÙ†Ú¯Ø³Ø§Ø¦Úˆ Ù„Ú¯Ø§Ø¦ÛŒÚºÛ”",
          hi: "à¤ªà¥à¤°à¤­à¤¾à¤µà¤¿à¤¤ à¤ªà¤¤à¥à¤¤à¥‡ à¤¹à¤Ÿà¤¾ à¤¦à¥‡à¤‚ à¤”à¤° à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾ à¤…à¤¨à¥à¤¸à¤¾à¤° à¤«à¤‚à¤—à¥€à¤¸à¤¾à¤‡à¤¡ à¤²à¤—à¤¾à¤à¤‚à¥¤",
          sd: "Ù…ØªØ§Ø«Ø± Ù¿ÙŠÙ„ Ù¾Ù†Ù† Ú©ÙŠ ÛÙ½Ø§ÙŠÙˆ Û½ Ø¶Ø±ÙˆØ±Øª Ù¾ÙˆÚ» ØªÙŠ ÙÙ†Ú¯Ø³Ø§Ø¦ÚŠ Ù„Ø§Ú³Ùˆ ÚªØ±ÙŠÙˆ."
        }
      },
      {
        name: {
          en: "Rosa rubiginosa (Sweet Briar Rose)",
          ur: "Ú¯Ù„Ø§Ø¨ Ø±ÙˆØ¨ÛŒØ¬Ù†ÙˆØ²Ø§ (Ù…ÛŒÙ¹Ú¾Ø§ Ø¨Ø±ÛŒØ§Ø± Ú¯Ù„Ø§Ø¨)",
          hi: "à¤°à¥‹à¤œà¤¾ à¤°à¥à¤¬à¤¿à¤œà¤¿à¤¨à¥‹à¤¸à¤¾ (à¤¸à¥à¤µà¥€à¤Ÿ à¤¬à¥à¤°à¤¾à¤¯à¤° à¤°à¥‹à¤œà¤¼)",
          sd: "Ø±Ø²Ø§ Ø±ÙˆØ¨ÛŒÚ¯Ù†ÙˆØ³Ø§ (Ù…ÙºÚ™Ùˆ Ø¨Ø±ÙŠØ§Ø± Ú¯Ù„Ø§Ø¨)"
        },
        classification: {
          en: "Kingdom: Plantae > Family: Rosaceae > Genus: Rosa > Species: rubiginosa",
          ur: "Ø¨Ø§Ø¯Ø´Ø§ÛØª: Ù¾ÙˆØ¯Û’ > Ø®Ø§Ù†Ø¯Ø§Ù†: Ø±ÙˆØ²ÛŒØ³ÛŒ > Ø¬Ù†Ø³: Ú¯Ù„Ø§Ø¨ > Ù†ÙˆØ¹: Ø±ÙˆØ¨ÛŒØ¬Ù†ÙˆØ²Ø§",
          hi: "à¤°à¤¾à¤œà¥à¤¯: à¤ªà¥à¤²à¤¾à¤‚à¤Ÿà¥‡ > à¤ªà¤°à¤¿à¤µà¤¾à¤°: à¤°à¥‹à¤œà¤¼à¥‡à¤¸à¥€ > à¤µà¤‚à¤¶: à¤°à¥‹à¤œà¤¾ > à¤ªà¥à¤°à¤œà¤¾à¤¤à¤¿: à¤°à¥à¤¬à¤¿à¤œà¤¿à¤¨à¥‹à¤¸à¤¾",
          sd: "Ø¨Ø§Ø¯Ø´Ø§Ù‡Øª: Ù»ÙˆÙ½Ø§ > Ø®Ø§Ù†Ø¯Ø§Ù†: Ø±ÙˆØ²Ø§Ce > Ø¬Ù†Ø³: Ø±Ø²Ø§ > Ù‚Ø³Ù…: Ø±ÙˆØ¨ÛŒÚ¯Ù†ÙˆØ³Ø§"
        },
        disease: {
          en: "Black Spot",
          ur: "Ú©Ø§Ù„Ø§ Ø¯Ú¾Ø¨Û",
          hi: "à¤¬à¥à¤²à¥ˆà¤• à¤¸à¥à¤ªà¥‰à¤Ÿ",
          sd: "ÚªØ§Ø±Ùˆ Ø¯Ø§Øº"
        },
        solution: {
          en: "Prune affected parts and apply fungicide; avoid wetting foliage.",
          ur: "Ù…ØªØ§Ø«Ø±Û Ø­ØµÙˆÚº Ú©Ùˆ ØªØ±Ø§Ø´ÛŒÚº Ø§ÙˆØ± ÙÙ†Ú¯Ø³Ø§Ø¦Úˆ Ù„Ú¯Ø§Ø¦ÛŒÚºØ› Ù¾ØªÛŒÙˆÚº Ú©Ùˆ Ú¯ÛŒÙ„Ø§ ÛÙˆÙ†Û’ Ø³Û’ Ø¨Ú†Ø§Ø¦ÛŒÚºÛ”",
          hi: "à¤ªà¥à¤°à¤­à¤¾à¤µà¤¿à¤¤ à¤¹à¤¿à¤¸à¥à¤¸à¥‹à¤‚ à¤•à¥‹ à¤›à¤¾à¤‚à¤Ÿà¥‡à¤‚ à¤”à¤° à¤«à¤‚à¤—à¥€à¤¸à¤¾à¤‡à¤¡ à¤²à¤—à¤¾à¤à¤‚; à¤ªà¤¤à¥à¤¤à¤¿à¤¯à¥‹à¤‚ à¤•à¥‹ à¤—à¥€à¤²à¤¾ à¤¹à¥‹à¤¨à¥‡ à¤¸à¥‡ à¤¬à¤šà¤¾à¤à¤‚à¥¤",
          sd: "Ù…ØªØ§Ø«Ø± Ù¿ÙŠÙ„ Ø­ØµÙ† Ú©ÙŠ ØªØ±Ø§ÙŠÙˆ Û½ ÙÙ†Ú¯Ø³Ø§Ø¦ÚŠ Ù„Ø§Ú³Ùˆ ÚªÙŠÙˆØ› Ù¾Ù†Ù† Ú©ÙŠ Ú¯Ù„ÙŠ Ù¿ÙŠÚ» Ú©Ø§Ù† Ø¨Ú†Ø§ÙŠÙˆ."
        }
      }
    ];

    // Elements references
    const langSelect = document.getElementById('language-select');
    const labelUpload = document.getElementById('label-upload');
    const labelCamera = document.getElementById('label-camera');
    const btnIdentify = document.getElementById('btn-identify');
    const btnDownload = document.getElementById('btn-download');
    const btnCopy = document.getElementById('btn-copy');
    const resultTable = document.getElementById('result-table');
    const resultSectionTitle = document.querySelector('.result-section h2');

    // Inputs
    const imageUpload = document.getElementById('image-upload');
    const cameraInput = document.getElementById('camera-input');

    let currentLang = 'en';
    let currentResults = []; // will hold plant objects as is, but displayed in currentLang

    function setLanguage(lang) {
      if (!translations[lang]) return;
      currentLang = lang;
      // Update UI texts
      labelUpload.textContent = translations[lang].uploadLabel;
      labelCamera.textContent = translations[lang].cameraLabel;
      btnIdentify.textContent = translations[lang].identifyBtn;
      btnDownload.textContent = translations[lang].downloadBtn;
      btnCopy.textContent = translations[lang].copyBtn;
      resultSectionTitle.textContent = translations[lang].resultsTitle;

      // Update table headers
      const ths = resultTable.querySelectorAll('thead th');
      ths[0].textContent = translations[lang].plantName;
      ths[1].textContent = translations[lang].classification;
      ths[2].textContent = translations[lang].disease;
      ths[3].textContent = translations[lang].solution;

      // Update no results row or refresh displayed results in new language
      if (currentResults.length === 0) {
        const tbody = resultTable.querySelector('tbody');
        tbody.innerHTML = `<tr><td colspan="4" style="text-align:center; color:#666;">${translations[lang].noResults}</td></tr>`;
        btnDownload.disabled = true;
        btnCopy.disabled = true;
      } else {
        // re-display results in selected language
        displayResults(currentResults);
      }
    }

    // FAQ toggle
    const faqCards = document.querySelectorAll('.faq-card');
    faqCards.forEach(card => {
      const question = card.querySelector('.faq-question');
      question.addEventListener('click', () => {
        const expanded = question.getAttribute('aria-expanded') === 'true';
        faqCards.forEach(c => {
          c.classList.remove('open');
          c.querySelector('.faq-question').setAttribute('aria-expanded', 'false');
          c.querySelector('.faq-toggle-icon').textContent = '+';
        });
        if (!expanded) {
          card.classList.add('open');
          question.setAttribute('aria-expanded', 'true');
          question.querySelector('.faq-toggle-icon').textContent = 'âˆ’';        
        }
      });
    });

    // Enable identify button only if any image selected
    function checkInputs() {
      btnIdentify.disabled = !(imageUpload.files.length > 0 || cameraInput.files.length > 0);
    }
    imageUpload.addEventListener('change', () => {
      if (imageUpload.files.length > 0) cameraInput.value = '';
      checkInputs();
    });
    cameraInput.addEventListener('change', () => {
      if (cameraInput.files.length > 0) imageUpload.value = '';
      checkInputs();
    });

    // Simulated plant identification function returns plantData (multilingual keys)
    function simulatePlantIdentification() {
      // In a real app, this would call a backend or ML model for real data.
      // Return global plantData directly.
      return plantData;
    }

    // Populate the table with results in current language
    function displayResults(results) {
      currentResults = results;
      const tbody = resultTable.querySelector('tbody');
      if (!results || results.length === 0) {
        tbody.innerHTML = `<tr><td colspan="4" style="text-align:center; color:#666;">${translations[currentLang].noResults}</td></tr>`;
        btnDownload.disabled = true;
        btnCopy.disabled = true;
        return;
      }
      btnDownload.disabled = false;
      btnCopy.disabled = false;

      let rows = '';
      for (const r of results) {
        rows += `<tr>
          <td>${r.name[currentLang]}</td>
          <td>${r.classification[currentLang]}</td>
          <td>${r.disease[currentLang]}</td>
          <td>${r.solution[currentLang]}</td>
        </tr>`;
      }
      tbody.innerHTML = rows;
    }

    // Identify button click handler
    btnIdentify.addEventListener('click', () => {
      // Simulate delay to mimic processing
      btnIdentify.disabled = true;
      btnIdentify.textContent = 'â³ Processing...';
      setTimeout(() => {
        const results = simulatePlantIdentification();
        displayResults(results);
        btnIdentify.textContent = translations[currentLang].identifyBtn;
        checkInputs();
      }, 1200);
    });

    // Download results CSV
    btnDownload.addEventListener('click', () => {
      if (currentResults.length === 0) return;
      const headers = [
        translations[currentLang].plantName,
        translations[currentLang].classification,
        translations[currentLang].disease,
        translations[currentLang].solution
      ];
      const csvRows = [headers.join(',')];
      for (const r of currentResults) {
        // Escape potential commas in data by wrapping in quotes
        csvRows.push([
          `"${r.name[currentLang]}"`,
          `"${r.classification[currentLang]}"`,
          `"${r.disease[currentLang]}"`,
          `"${r.solution[currentLang]}"`
        ].join(','));
      }
      const csvString = csvRows.join('\n');
      const blob = new Blob([csvString], {type: 'text/csv'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'plant_identification_results.csv';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });

    // Copy results to clipboard
    btnCopy.addEventListener('click', () => {
      if (currentResults.length === 0) return;
      let text = '';
      const headers = [
        translations[currentLang].plantName,
        translations[currentLang].classification,
        translations[currentLang].disease,
        translations[currentLang].solution
      ];
      text += headers.join('\t') + '\n';
      for (const r of currentResults) {
        text += `${r.name[currentLang]}\t${r.classification[currentLang]}\t${r.disease[currentLang]}\t${r.solution[currentLang]}\n`;
      }
      navigator.clipboard.writeText(text).then(() => {
        alert('âœ… Results copied to clipboard!');
      }).catch(() => {
        alert('âŒ Failed to copy results.');
      });
    });

    // Initialize language and UI
    setLanguage(currentLang);

    // Change language on select
    langSelect.addEventListener('change', e => {
      setLanguage(e.target.value);
    });
  })();
</script>
</body>
</html>

